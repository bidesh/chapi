services:
  JobRepositoryChronos:
    class: Chapi\Service\JobRepository\JobRepository
    arguments:
      - "@JobRepositoryBridgeChronos"
      - "@FilterChronosEntity"

  JobRepositoryFileSystemChronos:
    class: Chapi\Service\JobRepository\JobRepository
    arguments:
      - "@JobRepositoryBridgeFileSystemChronos"
      - "@FilterChronosEntity"

  JobRepositoryFileSystemMarathon:
    class: Chapi\Service\JobRepository\JobRepository
    arguments:
      - "@JobRepositoryBridgeFileSystemMarathon"
      - "@FilterMarathonEntity"

  JobRepositoryMarathon:
    class: Chapi\Service\JobRepository\JobRepository
    arguments:
      - "@JobRepositoryBridgeMarathon"
      - "@FilterMarathonEntity"

  JobRepositoryBridgeChronos:
    class: Chapi\Service\JobRepository\BridgeChronos
    arguments:
      - "@ApiClientInterface"
      - "@CacheInterface"
      - "@JobValidatorServiceInterface"
      - "@LoggerInterface"

  JobRepositoryBridgeFileSystemChronos:
    class: Chapi\Service\JobRepository\BridgeFileSystem
    arguments:
      - "@ExternalFileSystemService"
      - "@CacheInterface"
      - "%repository_dir%"

  JobRepositoryBridgeFileSystemMarathon:
    class: Chapi\Service\JobRepository\BridgeFileSystem
    arguments:
      - "@ExternalFileSystemService"
      - "@CacheInterface"
      - "%repository_dir_marathon%"

  JobRepositoryBridgeMarathon:
    class: Chapi\Service\JobRepository\BridgeMarathon


  JobEntityValidatorServiceInterface:
    class: Chapi\Service\JobRepository\JobEntityValidatorService
    arguments:
      - "@DatePeriodFactoryInterface"

  ExternalFileSystemService:
    class: \Symfony\Component\Filesystem\Filesystem

  FilterChronosEntity:
    class: Chapi\Service\JobRepository\FilterChronosEntity

  FilterMarathonEntity:
    class: Chapi\Service\JobRepository\FilterMarathonEntity